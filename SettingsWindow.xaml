<Window
    x:Class="Launchbox.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Launchbox"
    xmlns:viewmodels="using:Launchbox.ViewModels"
    Title="Launchbox Settings">

    <Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
        <Grid.RowDefinitions>
            <RowDefinition Height="32"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid x:Name="AppTitleBar" Background="Transparent" Grid.Row="0">
            <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="8,0,0,0" Spacing="8">
                <Image Source="/Assets/Square44x44Logo.targetsize-24_altform-unplated.png"
                       Width="16" Height="16"
                       AutomationProperties.AccessibilityView="Raw"/>
                <TextBlock Text="Launchbox Settings"
                           Style="{ThemeResource CaptionTextBlockStyle}"
                           VerticalAlignment="Center"/>
            </StackPanel>
        </Grid>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Padding="24" Spacing="20" HorizontalAlignment="Left" MaxWidth="500">
                <!-- General -->
                <StackPanel Spacing="8">
                    <TextBlock Text="General" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                    <ToggleSwitch Header="Run at Startup" IsOn="{x:Bind ViewModel.RunAtStartup, Mode=TwoWay}" />
                </StackPanel>

                <!-- Shortcuts -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Shortcuts Folder" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                    <Grid ColumnDefinitions="*,Auto" ColumnSpacing="8">
                        <TextBox Text="{x:Bind ViewModel.ShortcutsPath, Mode=OneWay}" IsReadOnly="True" Width="300" AutomationProperties.Name="Shortcuts folder path" />
                        <Button Grid.Column="1" Content="Browse..." Command="{x:Bind ViewModel.BrowseFolderCommand}" CommandParameter="{x:Bind}"
                                ToolTipService.ToolTip="Select a new folder for shortcuts"
                                AutomationProperties.Name="Browse for shortcuts folder" />
                    </Grid>
                    <TextBlock Text="Changes will be applied immediately."
                               Style="{ThemeResource CaptionTextBlockStyle}"
                               Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
                </StackPanel>

                <!-- Hotkey -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Global Hotkey" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <ComboBox ItemsSource="{x:Bind ViewModel.Modifiers}" SelectedItem="{x:Bind ViewModel.SelectedModifier, Mode=TwoWay}" Width="100"
                                  AutomationProperties.Name="Hotkey modifier" />
                        <TextBlock Text="+" VerticalAlignment="Center"/>
                        <TextBox Text="{x:Bind ViewModel.HotkeyKeyString, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="50" MaxLength="1" HorizontalContentAlignment="Center"
                                 AutomationProperties.Name="Hotkey key" />
                    </StackPanel>
                </StackPanel>

                <!-- Window -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Window Management" Style="{ThemeResource SubtitleTextBlockStyle}"/>
                    <Button Content="Reset Window Position" Command="{x:Bind ViewModel.ResetPositionCommand}"
                            ToolTipService.ToolTip="Moves the main window to the center of the screen" />
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
